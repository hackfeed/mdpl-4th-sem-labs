EXTRN NUMBER : WORD

PUBLIC UHEX
PUBLIC SBIN

PUBLIC TOUHEX

; Data segment.
DATASEG SEGMENT PARA PUBLIC 'DATA'
    MASK16 DW 15
    MASK2 DW 1
    UHEX DB 4 DUP('0'), '$'
    SBIN DB 16 DUP('0'), '$'
DATASEG ENDS

CODESEG SEGMENT PARA PUBLIC 'CODE'
    ASSUME CS:CODESEG, DS:DATASEG

TOUHEX PROC NEAR
    MOV AX, NUMBER
    MOV BX, 3
    GETHEX:
        MOV DX, AX
        AND DX, MASK16
        CMP DL, 10
        JL ISDIGIT
        ADD DL, 7
        ISDIGIT:
        ADD DL, '0'
        MOV UHEX[BX], DL
        MOV CL, 4
        SAR AX, CL
        DEC BX
        CMP BX, -1
        JNE GETHEX
    RET
TOUHEX ENDP



CODESEG ENDS
END